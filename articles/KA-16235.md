---
title: La funzione Campaign Classic - SHA256 e SHA512 restituisce hash 2° aggiornamento errato
description: Descrizione
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: La funzione KCS - SHA256 e SHA512 restituisce hash non corretti secondo aggiornamento
resolution: Resolution
internal-notes: https://jira.corp.adobe.com/browse/NEO-26500, E-000202021, E-000148142
bug: true
article-created-by: Marta Zator
article-created-date: 5/9/2022 2:40:05 PM
article-published-by: Marta Zator
article-published-date: 5/9/2022 2:45:38 PM
version-number: 2
article-number: KA-16235
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=cac10be5-a5cf-ec11-a7b5-0022480a8e40
exl-id: d8803e40-5813-4fd4-921d-df10956e1e74
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '265'
ht-degree: 1%

---

# La funzione Campaign Classic - SHA256 e SHA512 restituisce hash 2° aggiornamento errato

## Descrizione


Il cliente ha segnalato che la funzione SHA256 e SHA512 restituisce un hash errato.

Hanno scoperto che alcuni utenti hanno anche questo problema qui.
https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/sha256-and-sha512-function-returns-wrong-hash/qaq-p/351035/comment-id/3882


## Risoluzione


Il cliente ha condiviso una soluzione trovata:

Il problema si è verificato perché l&#39;Adobe converte il tipo di dati della stringa in nvarchar invece di varchar nel caso in cui il database utilizzi la codifica unicode.
Nel caso del cliente, l&#39;impostazione predefinita della codifica del database viene utilizzata come unicode per supportare la lingua tailandese. Ecco perché l&#39;Adobe ha convertito la stringa in nvarchar.

Per le funzioni SHA256 e SHA512, funziona come normale ma restituirà valori diversi di hash per varchar e nvarchar.

Nel caso del cliente, è stato possibile modificare tale campo (contenente solo un numero mobile) in varchar e inserirlo correttamente.

Adobe Articolo comunitario:
[https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/sha256-and-sha512-functions-returning-wrong-hash/qaq-p/351034](https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/sha256-and-sha512-functions-returning-wrong-hash/qaq-p/351034)



Inoltre, se si utilizza Sql Server, la funzione digest utilizza la rappresentazione utf-16 della stringa. Non si otterrà il digest previsto (che è spesso calcolato su ascii o ut-8 carattere).

Esempio: &quot;hello&quot; darà 14cde7c9ad35de5a37fce2ac276742175028fd9f7cdf0dae01ff508b126429d9 come sha2-256 sulla rappresentazione ascii/utf-8 della stringa e darà 18fe2820b38427a08a5b49fb4d71a7027799bfe050d3050ca4d34 91a85aa0eb sulla rappresentazione utf-16.
