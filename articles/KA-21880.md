---
title: "Recupera dati da database esterno in cui i valori superano i 255 caratteri"
description: Descrizione
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS, ACC, Campaign, RDBMS"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: "4/14/2023 9:34:53 AM"
article-published-by: Amol Mahajan
article-published-date: "4/14/2023 10:58:44 AM"
version-number: 1
article-number: KA-21880
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=8b001c97-a7da-ed11-a7c7-6045bd006ce9"
source-git-commit: 85f7806e59f91cbb7b5a69c7a73fc8b509936f5b
workflow-type: tm+mt
source-wordcount: '350'
ht-degree: 1%

---

# Recupera dati da database esterno in cui i valori superano i 255 caratteri

## Descrizione {#description}

<b>Ambiente</b><br><br>Campaign Classic v8<br><br> <br><br><b>Problema/Sintomi</b>
Se qualcuno desidera recuperare i dati da un database Google Big Query esterno, ma la tabella contiene una colonna di stringa per la quale alcuni valori superano i 255 caratteri, questo articolo potrebbe aiutarli.

Per questo utilizzano l&#39;attività Relational Database Management Systems (RDBMS) e per impostazione predefinita la dimensione del campo stringa è massima di 255 caratteri, ma se supera questo valore si verifica un errore SQL (Structured Query Language):

`"PGS-220000 PostgreSQL error: ERROR: value too long for type character varying(255) CONTEXT: COPY wkf124720_17_1, line 1, column scol: "aaaaaaaaaaaaaaa...."`



Quando si tenta di modificare la lunghezza del campo direttamente nel codice XML (Extensible Markup Language) del flusso di lavoro (manualmente o tramite codice JS), ma questa attività non consente di modificare lo schema e gestire i campi stringa con una lunghezza maggiore di 255.



<b>Passaggi:</b>

Crea un flusso di lavoro e utilizza il caricamento dei dati dell’attività (RDBMS) per recuperare da un database Google Big Query esterno valori da una colonna di stringa che supera i 255 caratteri.

L&#39;attività RDBMS ha la dimensione predefinita del campo stringa al massimo 255 caratteri e maggiore di questo causa un errore SQL.


## Risoluzione {#resolution}

Per impostazione predefinita, la lunghezza massima di un campo stringa in Adobe Campaign è 255, in base alla progettazione del prodotto:<br>
Puoi trovare le best practice e ulteriori dettagli nel seguente collegamento:
[https://experienceleague.adobe.com/docs/campaign-classic/using/configuring-campaign-classic/data-model/data-model-best-practices.html?lang=en#data-types](https://experienceleague.adobe.com/docs/campaign-classic/using/configuring-campaign-classic/data-model/data-model-best-practices.html?lang=en#data-types "Segui collegamento")

Inoltre, ecco un link con opzioni utili per trovare una soluzione (se sorge un problema al momento dell&#39;arricchimento): 
[https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/controlling-wkf-table-field-length/td-p/355506](https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/controlling-wkf-table-field-length/td-p/355506 "Segui collegamento")



<b>Se il problema deriva dalla prima casella RDBMS, è possibile seguire questi passaggi:</b>



1. Aggiungere una casella SQL con questo codice prima della casella RDBMS:

   ```
   CREATE OR REPLACE FUNCTION trg_create_table_func()
   
   RETURNS event_trigger
   
   LANGUAGE plpgsql
   
   AS $$
   
   DECLARE
   
   rec record;
   
   BEGIN
   
   FOR rec IN
   
    SELECT table_name
   
   FROM information_schema.columns
   
   WHERE Lower(table_name) like 'wkf' || %= instance.id % || '_%' AND Lower(column_name)='sproducturl'
   
   LOOP
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sProductUrl TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sDesignation TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sUrlImage158 TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sUrlImage358 TYPE VARCHAR(2000);', rec.table_name);
   
   EXECUTE format('ALTER TABLE IF EXISTS ONLY %I ALTER COLUMN sUrlImage528 TYPE VARCHAR(2000);', rec.table_name);
   
   END LOOP;
   
   END
   
   
   
   $$;
   
   
   
   DROP EVENT TRIGGER IF EXISTS trg_create_table;
   
   
   CREATE EVENT TRIGGER trg_create_table ON ddl_command_end
   
   WHEN TAG IN ('CREATE TABLE')
   
   EXECUTE PROCEDURE trg_create_table_func();
   ```






   Questo consente di creare un trigger sul `"create table"` che attiverà una funzione che consente di aumentare la lunghezza delle colonne desiderate a 2000 per le tabelle wkfXXX del flusso di lavoro.
2. Dopo la casella RDBMS, aggiungere un&#39;altra SQL Box per eliminare il trigger:

   `DROP EVENT TRIGGER IF EXISTS trg_create_table;`

