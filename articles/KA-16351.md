---
title: ACC - Problema di caricamento dei dati di join esterno
description: Descrizione
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: KCS - ACC - Problema di caricamento dei dati di join esterno
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 2:11:09 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 2:11:34 PM
version-number: 2
article-number: KA-16351
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=8f266a08-6bd0-ec11-a7b5-00224809c556
exl-id: 08e00479-988e-47cb-93d0-c718d06acc52
source-git-commit: 14265e80c022cc632bdca8d17f84834e267c42d3
workflow-type: tm+mt
source-wordcount: '383'
ht-degree: 0%

---

# [ACC] - Problema di caricamento dei dati di join esterno

## Descrizione

Uno dei miei clienti ACC si trova di fronte a un problema con i join esterni SQL e voleva verificare se si tratta di un comportamento previsto o se si tratta di un bug ACC.

Per cliente esiste uno schema di dati nms:delivery esteso da `gsk:deliveryAnalytics` nel loro modello dati. Tra gli altri hanno aggiunto qui quattro link legati al marchio a `gsk:deliveryAnalyticsBrandMeta` schema dati.

I nomi dei collegamenti sono: `metaBrandLink01`, `metaBrandLink02`, `metaBrandLink03`, `metaBrandLink04`. Tutti i giunti esterni (`externalJoin="true"`).

Questi collegamenti funzionano abbastanza bene quando l&#39;operatore compila `@brand01-@brand04` attributi manualmente nella distribuzione una tantum. Ma il problema si verifica quando la consegna viene generata in base a un modello di consegna (ad esempio in un’attività di consegna ricorrente). In tal caso tutti `@brand01-@brand04` i campi diventano vuoti nella consegna appena eseguita, anche se sono stati compilati nel modello di consegna. Non si tratta di un problema relativo ai moduli di input, in quanto i clienti lo hanno già verificato. Credono che si tratti di un problema di esecuzione SQL durante il caricamento del modello di consegna e l’inserimento dei relativi dati in una nuova consegna. L&#39;hanno osservato nel codice SQL. Se cambiano il tipo di join nel `externalJoin="false"`, quindi possono vedere che il codice contiene riferimenti di collegamento appropriati:

Nella parte SELECT:

```
... D30.sBrand, D30.iDeliveryAnalyticsBrandMetaId, ...
```

Nella parte FROM del codice:

```
FROM NmsDelivery D0 ...
JOIN GskDeliveryAnalyticsBrandMeta D30 ON (D30.sBrand = D0.sBrand01)
...
```

Ma se utilizzano `externalJoin="true"`, quindi nessuna di queste fa parte del codice SQL generato dall’attività di consegna ricorrente. Di conseguenza, i campi del marchio non vengono compilati nella consegna appena creata.

Il cliente desidera sapere perché il codice SQL non include i dati di join esterno quando viene creata una nuova consegna dal modello. È un bug CA o è previsto un comportamento CA.

## Risoluzione

Secondo i nostri esperti, l’unione esterna non dovrebbe avere alcun impatto.

Operazioni da eseguire in caso di copia o ricorrente. Creare un nuovo record nell&#39;estensione della tabella o fare riferimento alla stessa riga?

In caso di copia, forse puoi provare a giocare con l&#39;attributo *`integrity`.* Prova a utilizzare *`owncopy`*

Nel secondo caso dovrebbe essere solo una copia della chiave esterna, come copiamo qualsiasi attributo. Controllare l&#39;attributo *`defOnDuplicate`* per la chiave esterna.

Quindi prova a creare una copia del modello di consegna o consegna dall’interfaccia utente e controlla se l’attributo/chiavi esterne viene copiato. Se funziona, anche la consegna ricorrente dovrebbe funzionare.
