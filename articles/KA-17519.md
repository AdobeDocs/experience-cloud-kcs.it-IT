---
title: "Come generare un modello dati o un dizionario dati"
description: Descrizione
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS, Classic, ACC, Modello dati, Dizionario dati, Come Fare"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Jim Menn
article-created-date: "3/24/2023 5:28:20 AM"
article-published-by: Jim Menn
article-published-date: "3/24/2023 5:32:28 AM"
version-number: 6
article-number: KA-17519
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=a5180eab-04ca-ed11-b597-6045bd006295"
source-git-commit: 4df7a0fb96825837e214dccba49287d2b2a44635
workflow-type: tm+mt
source-wordcount: '647'
ht-degree: 0%

---

# Come generare un modello dati o un dizionario dati

## Descrizione {#description}

<b>Ambiente</b><br><br>Campaign Classic v7<br><br> <br><br><br><b>Problema/Sintomi</b>
Questo documento mostra due modi per generare un modello dati o un dizionario dati del database Adobe Campaign.


## Risoluzione {#resolution}


Adobe Campaign contiene centinaia di tabelle. Questo documento presenta due diversi modi per generare la documentazione dello schema:

Generando un documento Open Office (leggibile in Microsoft Word) o generando una pagina Web HTML.
<br>Metodo 1: Creazione di un documento OpenOffice<br> 
In Adobe Campaign *datakit\nms\fra\package\optional* c&#39;è un pacchetto chiamato <b>dbbBuilder.xml</b>. Questo file di pacchetto contiene un&#39;entità JavaScript che genera un documento Open Office che descrive lo schema di database dell&#39;istanza Adobe Campaign.
<br> 
<b>Creare un file JavaScript</b>
<br> 
Utilizzando la vista Esplora risorse della console di Campaign, scrivi una semplice utility JavaScript nei codici JavaScript di configurazione dell’amministrazione, come nell’esempio seguente.

Modificare il valore strOutputFile per aggiungere la directory di destinazione in cui si desidera creare il documento Open Office. Ad esempio: /tmp/database-description.odt.
<br> 
*Esempio di file: cus:build-dbd.js*


```
/* * build-dbd.js/ var 
    strXslt = "nl:dbdToOdt.xsl" 
    var strTemplate = installDirectory( "datakit/nl/dbd-template.odt" ) 
    var strOutputFile = "database-description.odt" 
    var sql = xtk.sqlSchema.create() sql.Generate() 
    var strDbXml = db = sql.toXML().toXMLString() 
    var strOdt = applyXsl(strXslt, strDbXml) 
    strOdt = strOdt.replace(/\?xml .*\?\r?\n/, '\r\n' ) 
    var mbContent = new MemoryBuffer mbContent.fromString(strOdt, "utf-8" ) 
    var zip = new ZipFile(strTemplate) 
    zip.open() zip.setEntry( "content.xml" , mbContent) zip.save(strOutputFile)
```

<br> <br> 
<b>Importa dbdBuilder.xml</b>
<br> 
Il pacchetto dbdBuilder.xml può essere importato eseguendo il seguente comando nella directory in cui è memorizzato il pacchetto. Sostituisci instance_name con il nome effettivo dell&#39;istanza di Adobe Campaign.

`nlserver package - import :dbdBuilder.xml -instance:instance_name`
<br> 
*Esempio di importazione del pacchetto per Debian*


```
neolane@debian: /nl6/datakit/nms/fra/package/optional $ cd 
    /nl6/datakit/nms/fra/package/optionalneolane@debian:/nl6/datakit/nms/fra/package/optional$ 
    nlserverpackage -import:dbdBuilder.xml 
    -instance:10:46:09 
    Application serverfor Adobe Campaign Version 6.1.1(build 8537) of 04/16/201410:46:09 
    Starting 1 connection(s) on pool'default vmcloud'(PostgreSQL, server='localhost', 
    login='user:password')10:46:09 Importing package'/tmp/dbdBuilder.xml'...10:46:11 
    Enumerating thefile entities...10:46:11 
    Writing entitiesin the database...10:46:11 
    Saving entities oftype 'xtk:xslt'...10:46:12 
    Saving entities oftype 'xtk:javascript'...10:46:12 
    Installation of packages successful.
```


Esempio di importazione del pacchetto per Windows


```
C: cd "\Program Files (x86)\Adobe\Adobe Campaign v6\bin" 
    C:\Program Files (x86)\Adobe\Adobe Campaign v6\binnlserver.exe 
    package - import : ..\datakit\nms\fra\package\optional\dbdBuilder.xml 
    -instance: 13:52:57 Application server for Adobe Campaign Version 6.1.1 (build 8622) of 01 /19/2015 13:52:57 
    Starting 1 connection(s) on pool 'default ' (PostgreSQL, server= 'localhost' , login= 'user:password' ) 13:52:57
    Importing package 'C:\Program Files (x86)\Adobe\Adobe Campaign v6\bin\..\datakit\nms\fra\package\optional\dbdBuilder.xml'... 
    13:52:59 Enumerating the file entities... 
    13:52:59 Writing entities in the database... 
    13:52:59 Saving entities of type 'xtk:javascript' ... 
    13:52:59 Installation of packages successful.
```

<br> 
<b>Genera la descrizione del database</b>
<br> 
Per generare la descrizione del database, puoi eseguire l’entità JavaScript cus:build-dbd.js con il modulo nlserver utilizzando una riga di comando, come illustrato di seguito:


```
neolane@debian: /tmp $ nlserver javascript -instance: cus:build-dbd.js 05:06:12 
    Application server for Adobe Campaign Version 6.1.1 (build 8537) of 04 /16/2014 
    05:06:12 Starting 1 connection(s) on pool 
    'default vmcloud' (PostgreSQL, server= 'localhost' , login= 'user:vmcloud' ) 
    05:06:12 Executing JavaScript from entity of identifier 'xs:build-dbd.js' ... 
    05:06:12 Generating the database structure... 
    05:06:12 Element '0' unknown (see definition of schema 'Recipient delivery logs (nms:broadLogRcp)'). 
    (iRc=16384) 
    05:06:12 Element '0' unknown (see definition of schema 'Visitor delivery logs (nms:broadLogVisitor)'). 
    (iRc=16384) 05:06:12 Element '0' unknown (see definition of schema 'Recipient delivery logs (nms:broadLogRcp)'). 
    (iRc=16384) 05:06:12 Element '0' unknown (see definition of schema 'Visitor delivery logs (nms:broadLogVisitor)'). 
    (iRc=16384) 05:06:13 Generating the ODT XML... 05:06:14 Saving the zip file ... 
    05:06:14 File saved as 'database-description.odt
```

<br> 
Un documento OpenOffice denominato &#39;database-description.odt&#39; viene generato nella directory specificata in build-dbd.js. Contiene la descrizione delle tabelle di Adobe Campaign. Questo documento può essere modificato con Microsoft Word o OpenOffice e può essere convertito in PDF.
![descrizione del database](https://helpx.adobe.com/content/dam/help/en/campaign/kb/generate-data-model/jcr%3acontent/main-pars/image/database-description.gif "descrizione del database")Esempio di file del modello dati<br> 
Questo documento mostra l&#39;indice delle tabelle del database, i campi e le chiavi SQL e l&#39;elenco dei collegamenti dello schema.
<br> Metodo 2: Creare una pagina Web utilizzando xsltproc<br> 
Questo approccio alternativo è basato sullo strumento della riga di comando xsltproc Linux. In questo scenario, si esporta lo schema creando un documento XML, quindi si trasforma l&#39;XML in HTML utilizzando un file XSLT. Il file di output è visualizzabile in un browser.

Per questo metodo, è necessario:

- Un ambiente Linux o Macintosh per eseguire xsltproc, che è un&#39;utilità standard della riga di comando di Macintosh Mac OS X.
- I file allegati, database.xsl e Styles.xml (vedere attachment.zip).


Nota:

Esiste un equivalente di Windows, <b>msxsl.exe</b>, che può funzionare bene su quella piattaforma, <b>ma non è stato testato</b>.

Ora <b>msxsl.exe</b> fa parte di <b>Servizi XML di base MS (MSXML)</b>.

La [<b>Servizi XML di base MS (MSXML)</b>](https://www.catalog.update.microsoft.com/Search.aspx?q=Microsoft%20Core%20XML%20Services%20%28MSXML%29%204.0) il download è disponibile nel catalogo Microsoft Update.



SCARICA
[Ottieni file](https://helpx.adobe.com/content/dam/help/en/campaign/kb/generate-data-model/jcr:content/main-pars/download_123504941/attachments.zip "attachments.zip") <br>database.xsl e Styles.xml<br> <br> <br> 
1. Scarica i due file allegati database.xsl e Styles.xml in una directory di lavoro su Linux o Mac. Nella parte superiore dell&#39;XSL sono disponibili due variabili che è possibile regolare: xsl:variable name=&quot;unicode&quot;false/xsl:variable xsl:variable name=&quot;engine&quot;postgresql/xsl:variable I valori supportati per il motore sono: postgresql, mssql e oracle. Imposta la variabile del motore sul valore corrispondente al database delle istanze di marketing.
2. Dalla console Campaign, vai a Definizioni del pacchetto di gestione della configurazione di amministrazione e crea un file package.xml contenente gli schemi di dati (xtk:schema).
3. Esporta il pacchetto, quindi copia il file nella directory di lavoro Linux o Mac.
4. Elabora il file package.xml eseguendo il seguente comando nella directory di lavoro utilizzando XSLT: *xsltproc database.xsl package.xml database.html*.


Il documento generato non è perfetto:

- Non è possibile documentare alcune condizioni di join sui collegamenti.
- Quando un&#39;enumerazione viene referenziata in uno schema ma definita in un altro schema che non è presente nel pacchetto, l&#39;enumerazione non viene documentata.

