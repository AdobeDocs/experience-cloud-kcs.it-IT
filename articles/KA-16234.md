---
title: Impossibile utilizzare/eseguire query sui nomi dei file di output della consegna DM
description: Descrizione
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS - Impossibile utilizzare/eseguire query sui nomi dei file di output della consegna DM
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 3:35:40 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 3:36:01 PM
version-number: 2
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=43c42ad4-76d0-ec11-a7b5-00224809c556
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '273'
ht-degree: 1%

---

# Impossibile utilizzare/eseguire query sui nomi dei file di output della consegna DM

## Descrizione


Uno dei miei clienti viene segnalato il seguente problema, in quanto hanno requisiti di business diversi.

Da `mdata` campo, vogliamo estrarre il nome outputFile—vedere attachment(mData_outputFile.png) per la posizione, memorizzato in `outputFile=" "`. Vogliamo sapere come trasformare al meglio questo campo del tipo di dati xml in modo che venga trasmesso come campo arricchito all’interno del [!DNL Campaign] flusso di lavoro in modo da poter aggiungere alla tabella della cronologia delle promozioni tutti i nomi dei file di output.

Per prima cosa ho cercato di contattare i miei colleghi, ma purtroppo non hanno molte informazioni sulla domanda precedente. Da allora sappiamo che `mdata` è un campo XML e non un campo DB per eseguire query su di esso. Ma, a parte questo, esiste un metodo per raggiungere questo scenario?


## Risoluzione


Utilizza un [!UICONTROL Estrazione file] per estrarre i dati di consegna in formato XML.



In questo modo i dati verranno estratti.



Quindi puoi utilizzare un [!UICONTROL Load file] attività o [!UICONTROL Codice JS] attività per analizzare quel file e ottenere i tuoi dati.



O



utilizzare [!UICONTROL Codice JS] attività e `queryDef` per recuperare i dati della consegna e quindi analizzare il xml.



Memorizza i dati in una variabile di istanza per poi caricarli in transizione





Il cliente aveva una query di follow-up che era come segue —

&quot;Stiamo cercando di usare il metodo `queryDef` contro i dati, che siamo stati in grado di scrivere. Per il metodo parse, qual è l&#39;approccio consigliato?&quot;



<b>RISPOSTA —</b>

La tua richiesta sarà come


```
*queryDef operation="select" schema="nms:delivery"*

*select*

*node expr="@id"/*

*node expr="output/@fileName" label="Output file"/*

*/select*

*sysFilter*

*condition expr="@isModel = 0"/*

*/sysFilter*

*orderBy*

*node expr="@lastModified" sortDesc="true"/*

*/orderBy*

*/queryDef*
```


E tornerà

```
*delivery-collection*

*delivery id="11878415"*

*output filename=”abc.txt”*

*/output*

*/delivery*

*/delivery-collection*
```
