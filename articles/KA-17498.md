---
title: "Errore di autenticazione LDAP con errore di timeout | AEM Oak"
description: Descrizione
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, ldap, aem, timeout, login, autenticazione"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "4/17/2023 5:57:04 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "4/17/2023 6:22:57 PM"
version-number: 4
article-number: KA-17498
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=420cf63c-49dd-ed11-a7c7-6045bd006149"
source-git-commit: 9312519d714e01cbf8ebc1ea497f9ca9393b1ddc
workflow-type: tm+mt
source-wordcount: '439'
ht-degree: 1%

---

# Errore di autenticazione LDAP con errore di timeout | Oak AEM

## Descrizione {#description}

<b>Ambiente</b>
Adobe Experience Manager


<b>Problema</b>
Dopo la configurazione [Autenticazione LDAP tramite AEM](https://experienceleague.adobe.com/docs/experience-manager-65/administering/security/ldap-config.html?lang=en), non consente agli utenti LDAP di effettuare l&#39;accesso. Viene visualizzato il seguente messaggio di log:


```
Caused by: org.apache.directory.api.ldap.model.exception.LdapException: TimeOut occurred

at org.apache.directory.ldap.client.api.LdapNetworkConnection.writeRequest(LdapNetworkConnection.java:4106)

at org.apache.directory.ldap.client.api.LdapNetworkConnection.bindAsync(LdapNetworkConnection.java:1290)

at org.apache.directory.ldap.client.api.LdapNetworkConnection.bind(LdapNetworkConnection.java:1188)

at org.apache.directory.ldap.client.api.AbstractLdapConnection.bind(AbstractLdapConnection.java:127)

at org.apache.directory.ldap.client.api.AbstractLdapConnection.bind(AbstractLdapConnection.java:112)

at org.apache.directory.ldap.client.api.DefaultLdapConnectionFactory.bindConnection(DefaultLdapConnectionFactory.java:64)

at org.apache.directory.ldap.client.api.DefaultLdapConnectionFactory.newLdapConnection(DefaultLdapConnectionFactory.java:107)

at org.apache.directory.ldap.client.api.ValidatingPoolableLdapConnectionFactory.makeObject(ValidatingPoolableLdapConnectionFactory.java:133)

at org.apache.directory.ldap.client.api.ValidatingPoolableLdapConnectionFactory.makeObject(ValidatingPoolableLdapConnectionFactory.java:59)

at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)

at org.apache.directory.ldap.client.api.LdapConnectionPool.getConnection(LdapConnectionPool.java:123)

at org.apache.jackrabbit.oak.security.authentication.ldap.impl.LdapIdentityProvider.connect(LdapIdentityProvider.java:771)

... 57 common frames omitted
```



## Risoluzione {#resolution}


Per risolvere il problema, è necessario eseguire il debug della connessione da AEM al server LDAP. Di seguito sono riportati alcuni elementi da controllare:

1. Verificare che il server LDAP sia accessibile da computer diversi dal server AEM utilizzando un browser LDAP come [JXplorer](http://jxplorer.org/). Se non è accessibile, allora potrebbe essere inattivo o potrebbe esserci un problema di rete o firewall. Contatta il tuo team operativo di rete e il team che gestisce i server LDAP per indagare.
2. Se il server LDAP è accessibile da altre macchine, eseguire il test dal sistema operativo del server AEM. Installa un client LDAP sul sistema operativo del server AEM e prova ad accedere al server LDAP da lì. Su Linux, puoi utilizzare il [ldapsearch](https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/administration_guide/examples-of-common-ldapsearches) comando. In Windows, utilizza [JXplorer](http://jxplorer.org/).
3. Se il server può raggiungere il server LDAP ma AEM l&#39;accesso basato su LDAP non riesce, è necessario controllare il <b>Provider di identità LDAP</b> configurazione. Accedi a <b>Console web OSGi</b> (https://)*aem-host:port*/system/console/configMgr) e cerca <b>Provider di identità LDAP Apache Jackrabbit Oak</b>. Alcune cose che puoi provare potrebbero risolvere il problema:

   - Ottimizza *DN base utente*, *Filtro extra utente*, *DN base gruppo* e *Raggruppa filtro aggiuntivo* affinché il filtro di ricerca restituisca solo gli utenti e i gruppi rilevanti a AEM.
   - Assicurati che *DN di associazione* e *Password del binding* sono corrette.
   - Deseleziona *Ricerca pool amministratore su convalida* e *Ricerca pool di utenti su convalida.*
   - Aumenta il *Timeout ricerca.*

   <b>Schermata della configurazione del provider di identità LDAP:</b>


   ![rtaimage_3_](https://helpx.adobe.com/content/dam/help/en/experience-manager/kb/LDAP-error/jcr%3acontent/main-pars/image/rtaimage_3_.png "rtaimage_3_")
4. Nel caso della maggior parte dei clienti aziendali, LDAP è spesso bilanciato dal carico. Puoi anche affrontare questo problema se il load balancer seduto di fronte ai server LDAP ha inserito in blacklist il tuo IP del server AEM per qualche motivo. Se si verifica questo problema, coinvolgi il team LDAP per risolvere il problema. Come test rapido, potrebbe essere utile colpire l&#39;IP del server LDAP bypassando direttamente il load balancer LDAP per vedere se l&#39;autenticazione LDAP in AEM ha successo.

<b>Causa</b>
L&#39;errore di timeout di solito indica che il server LDAP non è raggiungibile da AEM a causa di un firewall, un problema di rete o è inattivo o non reattivo.
