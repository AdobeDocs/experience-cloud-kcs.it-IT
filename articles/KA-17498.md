---
title: "Errore di timeout LDAP | AEM Oak"
description: Descrizione
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: “KCS”
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Roxann McGlumphy
article-created-date: "10/21/2021 9:51:18 PM"
article-published-by: Roxann McGlumphy
article-published-date: "10/21/2021 9:52:58 PM"
version-number: 1
article-number: KA-17498
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=72595e04-b932-ec11-b6e5-000d3a5ba97a"
exl-id: c0406e46-0830-4e6a-b321-0d176e7665ad
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '432'
ht-degree: 1%

---

# Errore di timeout LDAP | Oak AEM

## Descrizione


Hai configurato [Autenticazione LDAP tramite AEM](https://docs.adobe.com/docs/en/aem/6-2/administer/security/ldap-config.html) 1 e non consente agli utenti LDAP di effettuare l&#39;accesso.  Di seguito è riportato il messaggio di log:
<br><br><br><br><br> <br><br> <br><br><br><br>

| `Caused by: org.apache.directory.api.ldap.model.exception.LdapException: TimeOut occurred` `at org.apache.directory.ldap.client.api.LdapNetworkConnection.writeRequest(LdapNetworkConnection.java:4106)` `at org.apache.directory.ldap.client.api.LdapNetworkConnection.bindAsync(LdapNetworkConnection.java:1290)` `at org.apache.directory.ldap.client.api.LdapNetworkConnection.bind(LdapNetworkConnection.java:1188)` `at org.apache.directory.ldap.client.api.AbstractLdapConnection.bind(AbstractLdapConnection.java:127)` `at org.apache.directory.ldap.client.api.AbstractLdapConnection.bind(AbstractLdapConnection.java:112)` `at org.apache.directory.ldap.client.api.DefaultLdapConnectionFactory.bindConnection(DefaultLdapConnectionFactory.java:64)` `at org.apache.directory.ldap.client.api.DefaultLdapConnectionFactory.newLdapConnection(DefaultLdapConnectionFactory.java:107)` `at org.apache.directory.ldap.client.api.ValidatingPoolableLdapConnectionFactory.makeObject(ValidatingPoolableLdapConnectionFactory.java:133)` `at org.apache.directory.ldap.client.api.ValidatingPoolableLdapConnectionFactory.makeObject(ValidatingPoolableLdapConnectionFactory.java:59)` `at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1188)` `at org.apache.directory.ldap.client.api.LdapConnectionPool.getConnection(LdapConnectionPool.java:123)` `at org.apache.jackrabbit.oak.security.authentication.ldap.impl.LdapIdentityProvider.connect(LdapIdentityProvider.java:771)` `... 57 common frames omitted` |
| --- |

<br><br><br><br><br> <br><br>
1 [https://docs.adobe.com/docs/en/aem/6-2/administer/security/ldap-config.html](https://docs.adobe.com/docs/en/aem/6-2/administer/security/ldap-config.html)
<br><br><br><br>Causa<br><br><br><br><br><br>
L&#39;errore di timeout indica solitamente che il server LDAP non è raggiungibile da AEM a causa di un firewall, non raggiungibile (problema di rete), è inattivo o non risponde.


## Risoluzione


Per risolvere il problema, è necessario eseguire il debug della connessione da AEM al server LDAP.  Di seguito sono riportati alcuni elementi da controllare:

- Verificare che il server LDAP sia accessibile da computer diversi dal server AEM utilizzando un browser LDAP come [[!DNL JXplorer]](http://jxplorer.org/).  Se non è accessibile, allora potrebbe essere inattivo o potrebbe esserci un problema di rete o firewall. Contatta il tuo team operativo di rete e il team che gestisce i server LDAP per indagare.
- Se il server LDAP è accessibile da altre macchine, eseguire il test dal sistema operativo del server AEM.  Installa un client LDAP sul sistema operativo del server AEM e prova ad accedere al server LDAP da lì.  On [!DNL Linux], puoi utilizzare la [ldapsearch](https://access.redhat.com/documentation/en-US/Red_Hat_Directory_Server/8.2/html/Administration_Guide/Examples-of-common-ldapsearches.html) comando.  On [!DNL Windows], utilizza [[!DNL JXplorer]](http://jxplorer.org/).
- Se il server può raggiungere il server LDAP, ma AEM l&#39;accesso basato su LDAP non riesce, dobbiamo controllare la configurazione del &quot;provider di identità LDAP&quot;.  Accedi alla console Web OSGi (http://)*aem-host:port*/system/console/configMgr) e cerca &quot;*[!DNL Apache][!DNL Jackrabbit Oak] Provider di identità LDAP*&quot;.  Alcune cose che puoi provare potrebbero risolvere il problema:
   - Ottimizza &quot;*DN base utente*&quot;, &quot;*Filtro extra utente*&quot;, &quot;*DN base gruppo*&quot;, e &quot;*Raggruppa filtro aggiuntivo*&quot; affinché il filtro di ricerca restituisca solo gli utenti e i gruppi rilevanti a AEM.
   - Assicurati che &quot;*DN di associazione*&quot; e &quot;*Password del binding*&quot; sono corrette
   - Deseleziona &quot;*Ricerca pool amministratore su convalida*&quot; e &quot;*Ricerca pool di utenti su convalida.*&quot;
   - Aumenta il &quot;*Timeout ricerca*&quot;


Schermata della configurazione del provider di identità LDAP:
![rtaimage_3_](https://helpx.adobe.com/content/dam/help/en/experience-manager/kb/LDAP-error/jcr%3acontent/main-pars/image/rtaimage_3_.png "rtaimage_3_")
- Nel caso della maggior parte dei clienti aziendali, LDAP è spesso bilanciato dal carico. Puoi anche affrontare questo problema se il load balancer seduto di fronte ai server LDAP ha inserito in blacklist il tuo IP del server AEM per qualche motivo. Se si verifica questo problema, coinvolgi il team LDAP per risolvere il problema. Come test rapido, potrebbe essere utile colpire l&#39;IP del server LDAP bypassando direttamente il load balancer LDAP per vedere se l&#39;autenticazione LDAP in AEM ha successo.
