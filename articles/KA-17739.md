---
title: Tracciamento della logica del flusso di lavoro
description: Descrizione
solution: Campaign,Campaign Classic v7,Campaign v8
product: Campaign,Campaign Classic v7,Campaign v8
applies-to: Campaign Classic,Campaign,Campaign Classic v7,Campaign v8
keywords: KCS,Tracciamento della logica del flusso di lavoro
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ananya Kuthiala
article-created-date: 5/10/2022 1:38:14 PM
article-published-by: Ananya Kuthiala
article-published-date: 5/10/2022 1:38:54 PM
version-number: 2
article-number: KA-17739
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=b1655370-66d0-ec11-a7b5-0022480a8e40
exl-id: fddd4869-ca73-4875-ae46-563272a7d172
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '351'
ht-degree: 0%

---

# Tracciamento della logica del flusso di lavoro

## Descrizione


Il flusso di lavoro di tracciamento mostra solo 1 comando senza molte spiegazioni: <b>`tracking -instance:%= instanceName % -download -update`</b>



Lo scopo di questo articolo KB è quello di elencare i passaggi del flusso di lavoro nel backend:

<b>Passaggio 1</b> - scaricare e inserire i registri di tracciamento nel database (`NmsTrackingLogXXX`). Durante il passaggio -download il flusso di lavoro non registra nulla.

`-download` recupererà il registro di tracciamento solo dai diversi contenitori di tracciamento e li memorizzerà nel database.

<b>Passaggio 2</b> - creare statistiche del registro di tracciamento (`NmsTrackingStats`).

`-update` consoliderà i registri creando record aggregati in `NmsTrackingStats`. L’intera tabella viene aggiornata in base alle consegne contrassegnate per l’aggiornamento. Tutti i rapporti di tracciamento recuperano i dati da questa tabella. Puoi eseguire manualmente questo passaggio per ogni consegna per la quale mancano le statistiche di tracciamento facendo clic su &quot;Ricalcola statistiche di consegna&quot;.

<b>Passaggio 3</b> ultimo punto: ricostruire le statistiche di consegna (`NmsDeliveryLogStats`) per tutte le consegne interessate da un evento di apertura o clic (i consegne vengono elaborati uno per uno).

Il flusso di lavoro di tracciamento aggiornerà anche diverse altre tabelle:

```
NmsUserAgentReject 
NmsDelivery 
NmsUserAgent 
NmsTrackingLogRcp 
NmsTrackingStats
```

È importante controllare il tasso di frammentazione degli indici in queste tabelle. <u>Se la frammentazione dell&#39;indice è superiore al 30-35%, è necessario ricostruire l&#39;indice.</u> Per i client ospitati, Adobe esegue questa operazione di manutenzione una volta al mese. Se gli indici delle tabelle non vengono rigenerati regolarmente, l’esecuzione del flusso di lavoro di tracciamento viene rallentata.

<b>Per visualizzare le query esatte eseguite dal flusso di lavoro di tracciamento, utilizza il comando :</b>

*`nlserver tracking -instance:instanceName -download -update -verbose -tracefilter:\`<b>

Questo comando crea un registro aggiuntivo all&#39;interno di </b>`/var/instanceName/log/tracking.log` <b>con tutte le query eseguite durante l’esecuzione del flusso di lavoro di tracciamento.

A volte i clienti chiedono se possono saltare il processo di aggiornamento? La risposta è NO: Le statistiche di tracciamento non verranno aggiornate, i dati non saranno validi, il che può portare a numerosi altri problemi relativi al tracciamento che vorremmo evitare con qualsiasi mezzo necessario.

Al termine dell’esecuzione del flusso di lavoro di tracciamento, l’opzione </b>`NmsTracking_Pointer` <b>è aggiornato. Il valore dell’opzione mostra la data dell’ultimo registro recuperato in tutti i contenitori del server di tracciamento e l’ID del messaggio in formato decimale. Se convertiamo questo id in esadecimale, sarà il nome del file di tracciamento memorizzato sul server di tracciamento.


## Risoluzione


Questo articolo spiega la logica del flusso di lavoro in modo che non richieda una risoluzione.
